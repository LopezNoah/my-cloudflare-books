---
import Layout from '../../layouts/Layout.astro';
import BookForm from '../../components/BookForm.tsx';
import { prisma } from '../../lib/prisma';

// const response = await fetch('/api/genres');
// const genres = await response.json();
const genres = await prisma.genre.findMany();


---

<Layout title="Add Book">
  <main class="container mx-auto p-4">
    <h1 class="text-2xl font-bold mb-4">Add New Book</h1>
    <BookForm initialBook={null} genres={genres} client:load />
  </main>
</Layout>